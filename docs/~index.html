<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <!--<meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *" />-->
    <meta http-equiv="Content-Security-Policy" content="" />

    <link rel="stylesheet" type="text/css" href="css/core.css">
    <link rel="stylesheet" type="text/css" href="css/core-colors.css">
    <link rel="stylesheet" type="text/css" href="css/core-icons.css">
    <link rel="stylesheet" type="text/css" href="css/docs.css">
    <title>CoreCSS</title>

</head>
<body>

    <div class="app">
        <div class="view">

            <div class="sidebar" data-role="sidebar" data-shift="header, footer, .view-content, #main-tabs" data-toggle="#sidebar-toggle" data-overlay="true">
                <div class="sidebar-header">
                    <span class="avatar">
                        <img id="avatar_image">
                    </span>
                    <span class="title fg-white">Имя клиента</span>
                    <span class="subtitle fg-gray-400">sergey@pimenov.com.ua</span>
                </div>
                <ul class="sidebar-menu">
                    <li class="divider"></li>
                    <li><a href="#about">About</a></li>
                </ul>
            </div>

            <header class="header fix-slow-animation">
                <button class="nav-button" id="sidebar-toggle"><span></span></button>
                <span class="app-title">Core CSS</span>
                <span style="position: relative" class=" place-right">
                    <button class="tool-button " id="optionMenu"><span class="i-more_vert icon"></span></button>
                    <ul class="menu dropdown place-right" data-role="dropdown" data-toggle-element="#optionMenu">
                        <li><a href="#">Параметры</a></li>
                    </ul>
                </span>
                <button class="tool-button place-right " data-role="ripple"><span class="i-comment icon"></span></button>
                <button class="tool-button place-right " data-role="ripple"><span class="i-share icon"></span></button>
            </header>

            <ul class="tabs bg-lightBlue-700 fg-white fixed-tabs deep noSwipe" data-role="tabs,ripple" data-ripple-target=".tab" data-marker-color="bg-yellow" id="main-tabs" data-on-tab-change="onTabOpen">
                <li class="tab ">One</li>
                <li class="tab ">Two Item</li>
                <li class="tab ">Three</li>
                <li class="tab active">Tab Four</li>
                <li class="tab ">Tab Five</li>
                <li class="tab ">Tab Six</li>
                <li class="tab ">Tab Seven</li>
            </ul>

            <footer class="footer bottom-nav fix-slow-animation" data-role="ripple" data-ripple-target=".button">
                <button class="button bg-pink fg-white "><span class="i-add icon"></span><span class="label">Add</span></button>
                <button class="button bg-pink fg-white "><span class="i-favorite icon"></span><span class="label">Favorites</span></button>
                <button class="button bg-pink fg-white "><span class="i-timer icon"></span><span class="label">history</span></button>
            </footer>

            <ul class="bottom-sheet" id="bottom-sheet" data-role="bottomsheet,ripple" data-ripple-target="li">
                <li class=""><span class="icon i-contact_mail"></span>Mail</li>
                <li class=""><span class="icon i-comment"></span>Message</li>
                <li class=""><span class="icon i-power"></span>Location</li>
                <li class=""><span class="icon i-keyboard_voice"></span>Voice</li>
                <li class=""><span class="icon i-phone"></span>Dialer</li>
                <li class="divider"></li>
                <li class=""><span class="icon i-file_upload"></span>Upload</li>
                <li class=""><span class="icon i-security"></span>Security</li>
            </ul>

            <div class="view-content fix-slow-animation">
            </div>
        </div>
    </div>


    <script>
        CORE_DEBUG = true;
    </script>
    <script src="js/jquery-3.0.0.min.js"></script>
    <script src="js/core.js"></script>

    <script>

        var parts = [
            'donut', 'pickers', 'timepicker', 'calendar', 'datepicker', 'cards', 'accordion', 'toast', 'gravatar', 'dialogs', 'tabs-control', 'multi-action', 'stepper', 'range', 'progress', 'lists', 'tables', 'panels', 'chips', 'tabs', 'buttons', 'sheet', 'inputs', 'switches', 'menus', 'colors', 'typo'
        ];

        var sidebar_menu = $(".sidebar-menu"), sidebar_menu_point = sidebar_menu.find(".divider");
        var li, a, view = $(".view-content");

        $.each(parts, function(){
            li = $("<li>");
            a = $("<a>").attr("href", "#"+this).html(this).appendTo(li);
            li.insertBefore(sidebar_menu_point);

            var file = '~'+this+'.html';
            var target = $("<div>").appendTo(view);

            target
                    .attr("id", this)
                    .attr("name", this)
                    .addClass("clear")
                    ;

            $('#'+this).load(file);
        });

        sidebar_menu.on("click", "a", function(e){
            $(".sidebar").data("sidebar").close();
        });

        setTimeout(function(){
            var list = $("#colors-list").html("");
            var list_schemas = $("#colors-list-schemas").html("");
            var color_name = ['red', 'pink', 'purple', 'deepPurple', 'indigo', 'blue', 'lightBlue', 'cyan', 'teal', 'green', 'lightGreen', 'lime', 'yellow', 'amber', 'orange', 'deepOrange'];
            var color_name_2 = ['brown', 'gray', 'blueGray'];
            var color_index = ['50', '100', '200', '300', '400', '500', '600', '700', '800', '900', 'A100', 'A200', 'A400', 'A700'];
            var color_index_2 = ['50', '100', '200', '300', '400', '500', '600', '700', '800', '900'];
            var li;


            $.each(color_name, function (i, cn) {
                $("<li>").addClass("bg-"+cn).appendTo(list);
            });
            $.each(color_name_2, function (i, cn) {
                $("<li>").addClass("bg-"+cn).appendTo(list);
            });

            $.each(color_name, function (i, cn) {
                $("<li>").addClass("color-title").html(cn).appendTo(list_schemas);
                $.each(color_index, function (ii, ci) {
                    $("<li>").addClass("bg-"+cn+"-"+ci).html(cn+"-"+ci).appendTo(list_schemas);
                });
            });

            $.each(color_name_2, function (i, cn) {
                $("<li>").addClass("color-title").html(cn).appendTo(list_schemas);
                $.each(color_index_2, function (ii, ci) {
                    $("<li>").addClass("bg-"+cn+"-"+ci).html(cn+"-"+ci).appendTo(list_schemas);
                });
            });
        }, 500);

        $("body").touch({
            allowPageScroll:"vertical",
            swipe: function(event, direction, distance, duration, fingerCount, fingerData){
                var sb = $(".sidebar").data('sidebar');

                if (direction == 'right' && fingerData[0].start.x < 24) {
                    if (sb.element.data('opened') === false) {
                        sb.open();
                        event.preventDefault();
                        event.stopPropagation();
                    }
                } else if (sb.element.data('opened') === true && direction == 'left') {
                    sb.close();
                    event.preventDefault();
                    event.stopPropagation();
                } else {
                    // Swipe on screen
                }
            },
            hold: function(event, target){
                //console.log(event);
                //console.log(target);
            },
            tap: function(event, target){
                //console.log(event);
                //console.log(target);
            },
            swipeStatus: function(event, status, direction, distance, duration, fingerCount, fingerData){
            }
        });

        $("#avatar_image").attr("src", gravatar.getImageSrc('sergey@pimenov.com.ua'));

        function onTabOpen(tab){
//            console.log('Tab opened');
//            console.log(tab);
        }

        //coreStorage.setItem("TEST_ITEM", "as;ldkfjasd;ldkfjasd;lkfjal;sdkjf");
        coreStorage.getItem("TEST_ITEM_1");
        coreStorage.getItem("TEST_ITEM_1", "123");

    </script>

</body>
</html>